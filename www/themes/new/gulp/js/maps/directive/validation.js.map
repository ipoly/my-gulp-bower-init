{"version":3,"sources":["directive/validation.coffee"],"names":[],"mappings":"AAAA;AAAA,EAAA,cAAA,CAAA;AAAA,EAEA,OAAO,CAAC,MAAR,CAAe,sBAAf,EAAsC,EAAtC,CACA,CAAC,SADD,CACW,aADX,EAC0B;IACxB,SAAA,GAAA;aACE;AAAA,QAAA,QAAA,EAAU,GAAV;AAAA,QACA,OAAA,EAAQ,UADR;AAAA,QAEA,IAAA,EAAM,SAAC,MAAD,EAAS,IAAT,EAAe,KAAf,EAAsB,OAAtB,GAAA;AACJ,UAAA,IAAA,CAAA,OAAA;AAAA,mBAAO,IAAP,CAAA;WAAA;iBAEA,MAAM,CAAC,MAAP,CAAc,SAAA,GAAA;mBACZ,OAAO,CAAC,OADI;UAAA,CAAd,EAEE,SAAA,GAAA;AACA,gBAAA,GAAA;AAAA,YAAA,IAAG,OAAO,CAAC,MAAX;AACE,cAAA,GAAA,GAAM,OAAO,CAAC,QAAR,IAAqB,CAAC,KAAK,CAAC,KAAN,IAAe,KAAK,CAAC,WAAtB,CAA3B,CAAA;qBACA,IAAI,CAAC,OAAL,CAAa,mBAAb,EAAkC,GAAlC,EAFF;aADA;UAAA,CAFF,EAME,IANF,EAHI;QAAA,CAFN;QADF;IAAA,CADwB;GAD1B,CAgBA,CAAC,SAhBD,CAgBW,WAhBX,EAgBwB;IACtB,UADsB,EAEtB,SAAC,QAAD,GAAA;aACE;AAAA,QAAA,QAAA,EAAU,GAAV;AAAA,QACA,KAAA,EAAO,IADP;AAAA,QAEA,IAAA,EAAM,SAAC,MAAD,EAAS,IAAT,EAAe,KAAf,GAAA;AACJ,cAAA,MAAA;AAAA,UAAA,MAAA,GAAS,QAAA,CAAS,yEAAT,CAAA,CAAoF,MAApF,CAAT,CAAA;AAAA,UAEA,IAAI,CAAC,IAAL,CAAU,cAAV,CACA,CAAC,OADD,CACS,2BADT,CAEA,CAAC,MAFD,CAEQ,MAFR,CAFA,CAAA;iBAMA,IAAI,CAAC,EAAL,CAAQ,mBAAR,EAA6B,SAAC,CAAD,EAAI,GAAJ,GAAA;AAC3B,YAAA,IAAI,CAAC,WAAL,CAAiB,WAAjB,EAA8B,GAA9B,CAAA,CAAA;mBACA,MAAM,CAAC,QAAP,GAAkB,IAFS;UAAA,CAA7B,CAGA,CAAC,EAHD,CAGI,kBAHJ,EAGwB,SAAC,CAAD,GAAA;AACtB,YAAA,MAAM,CAAC,OAAP,GAAiB,CAAC,CAAC,IAAF,KAAU,SAA3B,CAAA;mBACA,MAAM,CAAC,MAAP,CAAA,EAFsB;UAAA,CAHxB,EAPI;QAAA,CAFN;QADF;IAAA,CAFsB;GAhBxB,CAFA,CAAA;AAAA","file":"directive/validation.js","sourceRoot":"/source/","sourcesContent":["\"use restrict\"\n# show error message\nangular.module 'validation.directive',[]\n.directive 'formControl', [\n  ->\n    restrict: 'C'\n    require:'?ngModel'\n    link: ($scope, $elm, $attr, ngModel)->\n      return null unless ngModel\n\n      $scope.$watch ->\n        ngModel.$error\n      , ->\n        if ngModel.$dirty\n          msg = ngModel.$invalid and ($attr.title or $attr.placeholder)\n          $elm.trigger 'validationChanged', msg\n      , true\n]\n.directive 'formGroup', [\n  '$compile'\n  ($compile)->\n    restrict: 'C'\n    scope: true\n    link: ($scope, $elm, $attr)->\n      helper = $compile('<span class=\"error-msg\" ng-if=\"errorMsg && onfocus\">{{errorMsg}}</span>')($scope)\n\n      $elm.find ':input:first'\n      .closest ':not(.input-group,:input)'\n      .append helper\n\n      $elm.on 'validationChanged', (e, msg)->\n        $elm.toggleClass 'has-error', msg\n        $scope.errorMsg = msg\n      .on 'focusin focusout', (e)->\n        $scope.onfocus = e.type is 'focusin'\n        $scope.$apply()\n]"]}